build_settings:
  ignore:
    - "vendor"
    - "tests/"

setup:
  composer:
    action: "install"

test:
  php_parallel_lint:
    directory: "src/"
  php_code_sniffer:
    path: "src/"
    standard: "PSR1,PSR2"
  php_docblock_checker:
    path: "src/"
  php_cpd:
    standard: "PSR2"
    path: "src/"
  php_mess_detector:
    path: 'src/'
    rules:
      - "cleancode"
      - "controversial"
      - "codesize"
      - "design"
      - "naming"
      - "unusedcode"
  php_unit:
    config: "phpunit.xml"
    directory: "tests/"
  php_loc:
    directory: "src/"
  technical_debt:
    searches: "TODO, FIXME, WIP"

# complete: Always called when the test phase completes, regardless of success or failure.
# success: Called upon success of the test phase.
# failure: Called upon failure of the test phase.
# fixed: Called upon success of the test phase if the previous build of the branch was a failure.
# broken: Called upon failure of the test phase if the previous build of the branch was a success.